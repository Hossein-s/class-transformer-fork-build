System.register("class-transformer/ClassTransformOptions",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){}}}),System.register("class-transformer/metadata/ExposeExcludeOptions",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){}}}),System.register("class-transformer/metadata/TypeMetadata",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){t("TypeMetadata",function(t,e,r,o,a){this.target=t,this.propertyName=e,this.reflectedType=r,this.typeFunction=o,this.options=a})}}}),System.register("class-transformer/metadata/ExposeMetadata",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){t("ExposeMetadata",function(t,e,r){this.target=t,this.propertyName=e,this.options=r})}}}),System.register("class-transformer/metadata/ExcludeMetadata",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){t("ExcludeMetadata",function(t,e,r){this.target=t,this.propertyName=e,this.options=r})}}}),System.register("class-transformer/metadata/TransformMetadata",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){t("TransformMetadata",function(t,e,r,o){this.target=t,this.propertyName=e,this.transformFn=r,this.options=o})}}}),System.register("class-transformer/metadata/MetadataStorage",["class-transformer/TransformOperationExecutor"],function(e,t){"use strict";var o;t&&t.id;return{setters:[function(t){o=t}],execute:function(){function t(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}t.prototype.addTypeMetadata=function(t){this._typeMetadatas.has(t.target)||this._typeMetadatas.set(t.target,new Map),this._typeMetadatas.get(t.target).set(t.propertyName,t)},t.prototype.addTransformMetadata=function(t){this._transformMetadatas.has(t.target)||this._transformMetadatas.set(t.target,new Map),this._transformMetadatas.get(t.target).has(t.propertyName)||this._transformMetadatas.get(t.target).set(t.propertyName,[]),this._transformMetadatas.get(t.target).get(t.propertyName).push(t)},t.prototype.addExposeMetadata=function(t){this._exposeMetadatas.has(t.target)||this._exposeMetadatas.set(t.target,new Map),this._exposeMetadatas.get(t.target).set(t.propertyName,t)},t.prototype.addExcludeMetadata=function(t){this._excludeMetadatas.has(t.target)||this._excludeMetadatas.set(t.target,new Map),this._excludeMetadatas.get(t.target).set(t.propertyName,t)},t.prototype.findTransformMetadatas=function(t,e,r){return this.findMetadatas(this._transformMetadatas,t,e).filter(function(t){return!t.options||!0===t.options.toClassOnly&&!0===t.options.toPlainOnly||(!0===t.options.toClassOnly?r===o.TransformationType.CLASS_TO_CLASS||r===o.TransformationType.PLAIN_TO_CLASS:!0!==t.options.toPlainOnly||r===o.TransformationType.CLASS_TO_PLAIN)})},t.prototype.findExcludeMetadata=function(t,e){return this.findMetadata(this._excludeMetadatas,t,e)},t.prototype.findExposeMetadata=function(t,e){return this.findMetadata(this._exposeMetadatas,t,e)},t.prototype.findExposeMetadataByCustomName=function(t,e){return this.getExposedMetadatas(t).find(function(t){return t.options&&t.options.name===e})},t.prototype.findTypeMetadata=function(t,e){return this.findMetadata(this._typeMetadatas,t,e)},t.prototype.getStrategy=function(t){var e=this._excludeMetadatas.get(t),r=e&&e.get(void 0),o=this._exposeMetadatas.get(t),a=o&&o.get(void 0);return r&&a||!r&&!a?"none":r?"excludeAll":"exposeAll"},t.prototype.getExposedMetadatas=function(t){return this.getMetadata(this._exposeMetadatas,t)},t.prototype.getExcludedMetadatas=function(t){return this.getMetadata(this._excludeMetadatas,t)},t.prototype.getExposedProperties=function(t,e){return this.getExposedMetadatas(t).filter(function(t){return!t.options||!0===t.options.toClassOnly&&!0===t.options.toPlainOnly||(!0===t.options.toClassOnly?e===o.TransformationType.CLASS_TO_CLASS||e===o.TransformationType.PLAIN_TO_CLASS:!0!==t.options.toPlainOnly||e===o.TransformationType.CLASS_TO_PLAIN)}).map(function(t){return t.propertyName})},t.prototype.getExcludedProperties=function(t,e){return this.getExcludedMetadatas(t).filter(function(t){return!t.options||!0===t.options.toClassOnly&&!0===t.options.toPlainOnly||(!0===t.options.toClassOnly?e===o.TransformationType.CLASS_TO_CLASS||e===o.TransformationType.PLAIN_TO_CLASS:!0!==t.options.toPlainOnly||e===o.TransformationType.CLASS_TO_PLAIN)}).map(function(t){return t.propertyName})},t.prototype.clear=function(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()},t.prototype.getMetadata=function(t,e){var r,o=t.get(e);o&&(r=Array.from(o.values()).filter(function(t){return void 0!==t.propertyName}));for(var a=[],n=0,s=this.getAncestors(e);n<s.length;n++){var i=s[n],p=t.get(i);if(p){var f=Array.from(p.values()).filter(function(t){return void 0!==t.propertyName});a.push.apply(a,f)}}return a.concat(r||[])},t.prototype.findMetadata=function(t,e,r){var o=t.get(e);if(o){var a=o.get(r);if(a)return a}for(var n=0,s=this.getAncestors(e);n<s.length;n++){var i=s[n],p=t.get(i);if(p){var f=p.get(r);if(f)return f}}},t.prototype.findMetadatas=function(t,e,r){var o,a=t.get(e);a&&(o=a.get(r));for(var n=[],s=0,i=this.getAncestors(e);s<i.length;s++){var p=i[s],f=t.get(p);f&&f.has(r)&&n.push.apply(n,f.get(r))}return n.reverse().concat((o||[]).reverse())},t.prototype.getAncestors=function(t){if(!t)return[];if(!this._ancestorsMap.has(t)){for(var e=[],r=Object.getPrototypeOf(t.prototype.constructor);void 0!==r.prototype;r=Object.getPrototypeOf(r.prototype.constructor))e.push(r);this._ancestorsMap.set(t,e)}return this._ancestorsMap.get(t)},e("MetadataStorage",t)}}}),System.register("class-transformer/storage",["class-transformer/metadata/MetadataStorage"],function(t,e){"use strict";var r;e&&e.id;return{setters:[function(t){r=t}],execute:function(){t("defaultMetadataStorage",new r.MetadataStorage)}}}),System.register("class-transformer/TransformOperationExecutor",["class-transformer/storage","@typed/is-promise"],function(r,t){"use strict";var A,n,x;t&&t.id;function s(){try{return Buffer,!0}catch(t){}return!1}return r("testForBuffer",s),{setters:[function(t){A=t},function(t){n=t}],execute:function(){var t;function e(t,e){this.transformationType=t,this.options=e,this.recursionStack=new Set}(t=x||(x={}))[t.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",t[t.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",t[t.CLASS_TO_CLASS=2]="CLASS_TO_CLASS",r("TransformationType",x),e.prototype.transform=function(S,h,v,t,g,M){var i=this;if(void 0===M&&(M=0),Array.isArray(h)||h instanceof Set){var p=t&&this.transformationType===x.PLAIN_TO_CLASS?function(t){var e=new t;return e instanceof Set||"push"in e?e:[]}(t):[];return h.forEach(function(e,t){var r=S?S[t]:void 0;if(i.options.enableCircularCheck&&i.isCircular(e))i.transformationType===x.CLASS_TO_CLASS&&(p instanceof Set?p.add(e):p.push(e));else{var o=void 0;if("function"!=typeof v&&v&&v.options&&v.options.discriminator&&v.options.discriminator.property&&v.options.discriminator.subTypes){if(i.transformationType===x.PLAIN_TO_CLASS){o=v.options.discriminator.subTypes.find(function(t){return t.name===e[v.options.discriminator.property]});var a={newObject:p,object:e,property:void 0},n=v.typeFunction(a);o=void 0===o?n:o.value,v.options.keepDiscriminatorProperty||delete e[v.options.discriminator.property]}i.transformationType===x.CLASS_TO_CLASS&&(o=e.constructor),i.transformationType===x.CLASS_TO_PLAIN&&(e[v.options.discriminator.property]=v.options.discriminator.subTypes.find(function(t){return t.value===e.constructor}).name)}else o=v;var s=i.transform(r,e,o,void 0,e instanceof Map,M+1);p instanceof Set?p.add(s):p.push(s)}}),p}if(v!==String||g){if(v!==Number||g){if(v!==Boolean||g){if((v===Date||h instanceof Date)&&!g)return h instanceof Date?new Date(h.valueOf()):null==h?h:new Date(h);if(s()&&(v===Buffer||h instanceof Buffer)&&!g)return null==h?h:Buffer.from(h);if(n.isPromise(h)&&!g)return new Promise(function(e,t){h.then(function(t){return e(i.transform(void 0,t,v,void 0,void 0,M+1))},t)});if(n.isPromise(h)&&!g)return new Promise(function(e,t){h.then(function(t){return e(i.transform(void 0,t,v,void 0,void 0,M+1))},t)});if("object"!=typeof h||null===h)return h;v||h.constructor===Object||(v=h.constructor),!v&&S&&(v=S.constructor),this.options.enableCircularCheck&&this.recursionStack.add(h);var e=this.getKeys(v,h),_=S||{};S||this.transformationType!==x.PLAIN_TO_CLASS&&this.transformationType!==x.CLASS_TO_CLASS||(_=g?new Map:v?new v:{});for(var r=function(t){var e=t,r=t,o=t;if(!C.options.ignoreDecorators&&v)if(C.transformationType===x.PLAIN_TO_CLASS)(a=A.defaultMetadataStorage.findExposeMetadataByCustomName(v,t))&&(o=a.propertyName,r=a.propertyName);else if(C.transformationType===x.CLASS_TO_PLAIN||C.transformationType===x.CLASS_TO_CLASS){var a;(a=A.defaultMetadataStorage.findExposeMetadata(v,t))&&a.options&&a.options.name&&(r=a.options.name)}var n=void 0;n=h instanceof Map?h.get(e):h[e]instanceof Function?h[e]():h[e];var s=void 0,i=n instanceof Map;if(v&&g)s=v;else if(v){var p=A.defaultMetadataStorage.findTypeMetadata(v,o);if(p){var f={newObject:_,object:h,property:o},u=p.typeFunction?p.typeFunction(f):p.reflectedType;p.options&&p.options.discriminator&&p.options.discriminator.property&&p.options.discriminator.subTypes?h[e]instanceof Array?s=p:(C.transformationType===x.PLAIN_TO_CLASS&&(s=void 0===(s=p.options.discriminator.subTypes.find(function(t){if(n&&p.options.discriminator.property in n)return t.name===n[p.options.discriminator.property]}))?u:s.value,p.options.keepDiscriminatorProperty||n&&p.options.discriminator.property in n&&delete n[p.options.discriminator.property]),C.transformationType===x.CLASS_TO_CLASS&&(s=n.constructor),C.transformationType===x.CLASS_TO_PLAIN&&(n[p.options.discriminator.property]=p.options.discriminator.subTypes.find(function(t){return t.value===n.constructor}).name)):s=u,i=i||p.reflectedType===Map}else if(C.options.targetMaps)C.options.targetMaps.filter(function(t){return t.target===v&&!!t.properties[o]}).forEach(function(t){return s=t.properties[o]});else if(C.options.enableImplicitConversion&&C.transformationType===x.PLAIN_TO_CLASS){var c=Reflect.getMetadata("design:type",v.prototype,o);c&&(s=c)}}var d=Array.isArray(h[e])?C.getReflectedType(v,o):void 0,l=S?S[e]:void 0;if(_.constructor.prototype){var m=Object.getOwnPropertyDescriptor(_.constructor.prototype,r);if((C.transformationType===x.PLAIN_TO_CLASS||C.transformationType===x.CLASS_TO_CLASS)&&(m&&!m.set||_[r]instanceof Function))return"continue"}if(C.options.enableCircularCheck&&C.isCircular(n))C.transformationType===x.CLASS_TO_CLASS&&(T=n,T=C.applyCustomTransformations(T,v,t,h,C.transformationType),_ instanceof Map?_.set(r,T):_[r]=T);else{var y=C.transformationType===x.PLAIN_TO_CLASS?r:t,T=void 0;T=C.transformationType===x.CLASS_TO_PLAIN?(T=h[y],T=C.applyCustomTransformations(T,v,y,h,C.transformationType),T=h[y]===T?n:T,C.transform(l,T,s,d,i,M+1)):(T=C.transform(l,n,s,d,i,M+1),C.applyCustomTransformations(T,v,y,h,C.transformationType)),_ instanceof Map?_.set(r,T):_[r]=T}},C=this,o=0,a=e;o<a.length;o++)r(a[o]);return this.options.enableCircularCheck&&this.recursionStack.delete(h),_}return null==h?h:Boolean(h)}return null==h?h:Number(h)}return null==h?h:String(h)},e.prototype.applyCustomTransformations=function(e,t,r,o,a){var n=this,s=A.defaultMetadataStorage.findTransformMetadatas(t,r,this.transformationType);return void 0!==this.options.version&&(s=s.filter(function(t){return!t.options||n.checkVersion(t.options.since,t.options.until)})),(s=this.options.groups&&this.options.groups.length?s.filter(function(t){return!t.options||n.checkGroups(t.options.groups)}):s.filter(function(t){return!t.options||!t.options.groups||!t.options.groups.length})).forEach(function(t){e=t.transformFn(e,o,a)}),e},e.prototype.isCircular=function(t){return this.recursionStack.has(t)},e.prototype.getReflectedType=function(t,e){if(t){var r=A.defaultMetadataStorage.findTypeMetadata(t,e);return r?r.reflectedType:void 0}},e.prototype.getKeys=function(r,t){var o=this,e=A.defaultMetadataStorage.getStrategy(r);"none"===e&&(e=this.options.strategy||"exposeAll");var a=[];if("exposeAll"===e&&(a=t instanceof Map?Array.from(t.keys()):Object.keys(t)),!this.options.ignoreDecorators&&r){var n=A.defaultMetadataStorage.getExposedProperties(r,this.transformationType);this.transformationType===x.PLAIN_TO_CLASS&&(n=n.map(function(t){var e=A.defaultMetadataStorage.findExposeMetadata(r,t);return e&&e.options&&e.options.name?e.options.name:t})),a=this.options.excludeExtraneousValues?n:a.concat(n);var s=A.defaultMetadataStorage.getExcludedProperties(r,this.transformationType);0<s.length&&(a=a.filter(function(t){return-1===s.indexOf(t)})),void 0!==this.options.version&&(a=a.filter(function(t){var e=A.defaultMetadataStorage.findExposeMetadata(r,t);return!e||!e.options||o.checkVersion(e.options.since,e.options.until)})),a=this.options.groups&&this.options.groups.length?a.filter(function(t){var e=A.defaultMetadataStorage.findExposeMetadata(r,t);return!e||!e.options||o.checkGroups(e.options.groups)}):a.filter(function(t){var e=A.defaultMetadataStorage.findExposeMetadata(r,t);return!(e&&e.options&&e.options.groups&&e.options.groups.length)})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(a=a.filter(function(e){return o.options.excludePrefixes.every(function(t){return e.substr(0,t.length)!==t})})),a=a.filter(function(t,e,r){return r.indexOf(t)===e})},e.prototype.checkVersion=function(t,e){var r=!0;return r&&t&&(r=this.options.version>=t),r&&e&&(r=this.options.version<e),r},e.prototype.checkGroups=function(e){return!e||this.options.groups.some(function(t){return-1!==e.indexOf(t)})},r("TransformOperationExecutor",e)}}}),System.register("class-transformer/ClassTransformer",["class-transformer/TransformOperationExecutor"],function(e,t){"use strict";var o;t&&t.id;return{setters:[function(t){o=t}],execute:function(){function t(){}t.prototype.classToPlain=function(t,e){return new o.TransformOperationExecutor(o.TransformationType.CLASS_TO_PLAIN,e||{}).transform(void 0,t,void 0,void 0,void 0,void 0)},t.prototype.classToPlainFromExist=function(t,e,r){return new o.TransformOperationExecutor(o.TransformationType.CLASS_TO_PLAIN,r||{}).transform(e,t,void 0,void 0,void 0,void 0)},t.prototype.plainToClass=function(t,e,r){return new o.TransformOperationExecutor(o.TransformationType.PLAIN_TO_CLASS,r||{}).transform(void 0,e,t,void 0,void 0,void 0)},t.prototype.plainToClassFromExist=function(t,e,r){return new o.TransformOperationExecutor(o.TransformationType.PLAIN_TO_CLASS,r||{}).transform(t,e,void 0,void 0,void 0,void 0)},t.prototype.classToClass=function(t,e){return new o.TransformOperationExecutor(o.TransformationType.CLASS_TO_CLASS,e||{}).transform(void 0,t,void 0,void 0,void 0,void 0)},t.prototype.classToClassFromExist=function(t,e,r){return new o.TransformOperationExecutor(o.TransformationType.CLASS_TO_CLASS,r||{}).transform(e,t,void 0,void 0,void 0,void 0)},t.prototype.serialize=function(t,e){return JSON.stringify(this.classToPlain(t,e))},t.prototype.deserialize=function(t,e,r){var o=JSON.parse(e);return this.plainToClass(t,o,r)},t.prototype.deserializeArray=function(t,e,r){var o=JSON.parse(e);return this.plainToClass(t,o,r)},e("ClassTransformer",t)}}}),System.register("class-transformer/decorators",["class-transformer/ClassTransformer","class-transformer/storage","class-transformer/metadata/TypeMetadata","class-transformer/metadata/ExposeMetadata","class-transformer/metadata/ExcludeMetadata","class-transformer/metadata/TransformMetadata"],function(t,e){"use strict";var i,s,p,a,n,f;e&&e.id;return t("Transform",function(o,a){return function(t,e){var r=new f.TransformMetadata(t.constructor,e,o,a);s.defaultMetadataStorage.addTransformMetadata(r)}}),t("Type",function(a,n){return function(t,e){var r=Reflect.getMetadata("design:type",t,e),o=new p.TypeMetadata(t.constructor,e,r,a,n);s.defaultMetadataStorage.addTypeMetadata(o)}}),t("Expose",function(o){return function(t,e){var r=new a.ExposeMetadata(t instanceof Function?t:t.constructor,e,o||{});s.defaultMetadataStorage.addExposeMetadata(r)}}),t("Exclude",function(o){return function(t,e){var r=new n.ExcludeMetadata(t instanceof Function?t:t.constructor,e,o||{});s.defaultMetadataStorage.addExcludeMetadata(r)}}),t("TransformClassToPlain",function(n){return function(t,e,r){var o=new i.ClassTransformer,a=r.value;r.value=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=a.apply(this,t);return!!r&&("object"==typeof r||"function"==typeof r)&&"function"==typeof r.then?r.then(function(t){return o.classToPlain(t,n)}):o.classToPlain(r,n)}}}),t("TransformClassToClass",function(n){return function(t,e,r){var o=new i.ClassTransformer,a=r.value;r.value=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=a.apply(this,t);return!!r&&("object"==typeof r||"function"==typeof r)&&"function"==typeof r.then?r.then(function(t){return o.classToClass(t,n)}):o.classToClass(r,n)}}}),t("TransformPlainToClass",function(n,s){return function(t,e,r){var o=new i.ClassTransformer,a=r.value;r.value=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=a.apply(this,t);return!!r&&("object"==typeof r||"function"==typeof r)&&"function"==typeof r.then?r.then(function(t){return o.plainToClass(n,t,s)}):o.plainToClass(n,r,s)}}}),{setters:[function(t){i=t},function(t){s=t},function(t){p=t},function(t){a=t},function(t){n=t},function(t){f=t}],execute:function(){}}}),System.register("class-transformer/index",["class-transformer/ClassTransformer","class-transformer/decorators"],function(o,t){"use strict";var e,a,r;t&&t.id;o("classToPlain",function(t,e){return a.classToPlain(t,e)}),o("classToPlainFromExist",function(t,e,r){return a.classToPlainFromExist(t,e,r)}),o("plainToClass",function(t,e,r){return a.plainToClass(t,e,r)}),o("plainToClassFromExist",function(t,e,r){return a.plainToClassFromExist(t,e,r)}),o("classToClass",function(t,e){return a.classToClass(t,e)}),o("classToClassFromExist",function(t,e,r){return a.classToClassFromExist(t,e,r)}),o("serialize",function(t,e){return a.serialize(t,e)}),o("deserialize",function(t,e,r){return a.deserialize(t,e,r)}),o("deserializeArray",function(t,e,r){return a.deserializeArray(t,e,r)});var n={classToPlain:!0,classToPlainFromExist:!0,plainToClass:!0,plainToClassFromExist:!0,classToClass:!0,classToClassFromExist:!0,serialize:!0,deserialize:!0,deserializeArray:!0,TransformationType:!0,ClassTransformer:!0};return{setters:[function(t){o({ClassTransformer:(e=t).ClassTransformer})},function(t){!function(t){var e={};for(var r in t)"default"===r||n.hasOwnProperty(r)||(e[r]=t[r]);o(e)}(t)}],execute:function(){var t;a=new e.ClassTransformer,(t=r||(r={}))[t.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",t[t.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",t[t.CLASS_TO_CLASS=2]="CLASS_TO_CLASS",o("TransformationType",r)}}}),System.register("class-transformer",["class-transformer/index"],function(o,t){"use strict";t&&t.id;return{setters:[function(t){!function(t){var e={};for(var r in t)"default"!==r&&(e[r]=t[r]);o(e)}(t)}],execute:function(){}}});